"use strict";(self.webpackChunkAngular_Base=self.webpackChunkAngular_Base||[]).push([[693],{3183:(b,g,a)=>{a.d(g,{$:()=>m});var s=a(5406);const u={browse:[{column:"company_name",title:"Raz\xe3o"},{column:"fantasy_name",title:"Fantasia"},{column:"users.name",title:"Usuarios"}]};var d=a(4946);let m=(()=>{class c extends s.m{onCreate(){this.api="company",this.columns=u}static \u0275fac=function(){let r;return function(_){return(r||(r=d.n5z(c)))(_||c)}}();static \u0275prov=d.Yz7({token:c,factory:c.\u0275fac,providedIn:"any"})}return c})()},5406:(b,g,a)=>{a.d(g,{m:()=>m});var s=a(9277),e=a(8180),u=a(553),d=a(4946);let m=(()=>{class c extends s.S{action="default";owner;columns;items=[];multiple=!1;disable=!1;loading=!1;initialized=!1;constructor(r){super(r),this.onCreate()}initialize(r){r&&(this.owner=r.owner,this.action=r.action,this.id=r.id,this.multiple=r.multiple),this.onActivate()}onActivate(){this.api&&this.loadData()}setColumns(r){this.columns=r}setItems(r){this.initialized||setTimeout(()=>{this.initialized=!0,this.items=r},u.N.loadingTime)}loadData(){this.items=[],this.initialized&&(this.initialized=!1),this.selectMany().pipe((0,e.q)(1)).subscribe(r=>{setTimeout(()=>{this.items=r},u.N.loadingTime)})}static \u0275fac=function(v){return new(v||c)(d.LFG(d.zs3))};static \u0275prov=d.Yz7({token:c,factory:c.\u0275fac,providedIn:"any"})}return c})()},4625:(b,g,a)=>{a.d(g,{w:()=>e});var s=a(4946);let e=(()=>{class u{static \u0275fac=function(c){return new(c||u)};static \u0275cmp=s.Xpm({type:u,selectors:[["rca-not-found"]],decls:5,vars:0,consts:[[1,"flex-column","flex-1","align-center","justify-center"],[2,"font-size","10rem"],["name","sad-outline"]],template:function(c,f){1&c&&(s.TgZ(0,"div",0)(1,"h1",1),s._UZ(2,"ion-icon",2),s.qZA(),s.TgZ(3,"h2"),s._uU(4,"Page not found"),s.qZA()())},styles:["[_nghost-%COMP%]{min-height:var(--body-height)}"]})}return u})()},3323:(b,g,a)=>{a.d(g,{u:()=>J});var s=a(6825),e=a(4946),u=a(754),d=a(2333),m=a(9284),c=a(2447),f=a(3183),r=a(6814),v=a(1073);const _=function(i){return{"is-active":i}},C=["*"];let y=(()=>{class i{owner="dropdown";id=v.Z.randomId("dropdown");top=0;left=0;visible=!1;waiting=!1;onDocumentClick=this.hide.bind(this);onWindowScroll(t){this.hide(t)}show(t,n){this.visible=!0,this.waiting=!0,setTimeout(()=>{this.waiting=!1},0)}hide(t){!this.waiting&&this.visible&&(t.preventDefault(),this.top=0,this.left=0,this.visible=!1)}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=e.Xpm({type:i,selectors:[["rca-context-menu"]],hostBindings:function(n,o){1&n&&e.NdJ("click",function(p){return o.onDocumentClick(p)},!1,e.evT)("scroll",function(p){return o.onWindowScroll(p)})},inputs:{owner:"owner"},ngContentSelectors:C,decls:4,vars:4,consts:[[1,"dropdown","is-right",3,"ngClass"],["role","menu",1,"dropdown-menu",3,"id"],[1,"dropdown-content"]],template:function(n,o){1&n&&(e.F$t(),e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e.Hsn(3),e.qZA()()()),2&n&&(e.Q6J("ngClass",e.VKq(2,_,o.visible)),e.xp6(1),e.Q6J("id",o.id))},dependencies:[r.mk],styles:["[_nghost-%COMP%]   .dropdown[_ngcontent-%COMP%]{z-index:9999999;top:5px;right:-20px}[_nghost-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:hover{background:var(--row-h);color:var(--row-text-h);cursor:pointer}"]})}return i})();function M(i,h){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.AsE("",t.auth.user.name," - ",t.auth.company.fantasy_name,"")}}function w(i,h){if(1&i){const t=e.EpF();e.TgZ(0,"div",5),e.NdJ("click",function(){const l=e.CHM(t).$implicit,p=e.oxw();return e.KtG(p.handleSelectCompany(l))}),e._uU(1),e.qZA()}if(2&i){const t=h.$implicit;e.xp6(1),e.hij(" ",t.fantasy_name," ")}}function T(i,h){if(1&i){const t=e.EpF();e.TgZ(0,"div",5),e.NdJ("click",function(){const l=e.CHM(t).$implicit,p=e.oxw();return e.KtG(p.handleSelectCompany(l))}),e._uU(1),e.qZA()}if(2&i){const t=h.$implicit;e.xp6(1),e.hij(" ",t.fantasy_name," ")}}const O=function(i){return{"is-active":i}};let x=(()=>{class i{companyBrowseService;authService;companies=[];auth=d.b;popupVisible=!1;constructor(t,n){this.companyBrowseService=t,this.authService=n}ngOnInit(){this.authService.state.subscribe(t=>{this.auth=t}),this.companyBrowseService.selectMany({id:"*"}).subscribe(t=>{this.companies=[{id:"*",company_name:"Todas",fantasy_name:"Todas"},...t]})}handleSelectCompany(t){this.authService.setCompany(t),this.popupVisible=!1}handleLogout(){this.authService.logout()}togglePopupVisible(){this.popupVisible=!this.popupVisible}static \u0275fac=function(n){return new(n||i)(e.Y36(f.$),e.Y36(d.e))};static \u0275cmp=e.Xpm({type:i,selectors:[["rca-header-company"]],decls:19,vars:7,consts:[[4,"ngIf"],["contextMenu",""],["class","dropdown-item",3,"click",4,"ngFor","ngForOf"],[1,"dropdown-divider"],[1,"dropdown-content"],[1,"dropdown-item",3,"click"],["aria-haspopup","true",3,"click"],[1,"image","is-36x36","m-2","pointer",2,"height","30px","width","30px"],["src","https://bulma.io/images/placeholders/256x256.png",1,"is-rounded"],[1,"dropdown","is-right",3,"ngClass"],["id","dropdown-menu","role","menu",1,"dropdown-menu"]],template:function(n,o){if(1&n){const l=e.EpF();e.YNc(0,M,2,2,"span",0),e.TgZ(1,"rca-context-menu",null,1),e.YNc(3,w,2,1,"div",2),e._UZ(4,"hr",3),e.TgZ(5,"div",4)(6,"div",5),e.NdJ("click",function(){return o.handleLogout()}),e._uU(7,"Sair"),e.qZA()()(),e.TgZ(8,"div",6),e.NdJ("click",function(){e.CHM(l);const D=e.MAs(2);return e.KtG(D.show())}),e.TgZ(9,"figure",7),e._UZ(10,"img",8),e.qZA()(),e.TgZ(11,"div",9)(12,"div",10)(13,"div",4),e.YNc(14,T,2,1,"div",2),e._UZ(15,"hr",3),e.TgZ(16,"div",4)(17,"div",5),e.NdJ("click",function(){return o.handleLogout()}),e._uU(18,"Sair"),e.qZA()()()()()}if(2&n){const l=e.MAs(2);e.Q6J("ngIf",(null==o.auth?null:o.auth.user)&&o.auth.company),e.xp6(3),e.Q6J("ngForOf",o.companies),e.xp6(5),e.uIk("aria-controls",l.id),e.xp6(3),e.Q6J("ngClass",e.VKq(5,O,o.popupVisible)),e.xp6(3),e.Q6J("ngForOf",o.companies)}},dependencies:[r.mk,r.sg,r.O5,y],styles:["[_nghost-%COMP%]{display:flex;align-items:center;justify-content:center}"]})}return i})(),P=(()=>{class i{authService;templateService;sidebar;auth;subscriptions=[];constructor(t,n){this.authService=t,this.templateService=n}ngOnInit(){this.subscriptions.push(this.templateService.sidebar.subscribe(t=>{this.sidebar=t})),this.subscriptions.push(this.authService.state.subscribe(t=>{this.auth=t}))}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}logRender=()=>(console.log(`Header - ${new Date}`),"");static \u0275fac=function(n){return new(n||i)(e.Y36(d.e),e.Y36(u.I))};static \u0275cmp=e.Xpm({type:i,selectors:[["rca-header"]],decls:9,vars:0,consts:[["role","navigation","aria-label","main navigation",1,"navbar"],[1,"navbar-brand","is-align-items-center"],["routerLink","/",1,"navbar-item"],["src","../../../../../assets/logo.png","width","36","height","36"],["src","../../../../../assets/solucoes.png","width","140","height","60",1,"mh-5"],["type","primary","icon","menu",3,"click"],["id","navbarBasicExample",1,"navbar-menu"],[1,"navbar-end"]],template:function(n,o){1&n&&(e.TgZ(0,"nav",0)(1,"div",1)(2,"a",2),e._UZ(3,"img",3)(4,"img",4),e.qZA(),e.TgZ(5,"rca-button",5),e.NdJ("click",function(){return o.templateService.toggleSidebar()}),e.qZA()(),e.TgZ(6,"div",6)(7,"div",7),e._UZ(8,"rca-header-company"),e.qZA()()())},dependencies:[m.rH,c.m,x],styles:["[_nghost-%COMP%]{min-height:var(--header-height);max-height:var(--header-height);background:var(--header-bg-primary);z-index:99997;display:grid;align-items:center}[_nghost-%COMP%]   .navbar-brand[_ngcontent-%COMP%]{background:var(--header-bg-primary);color:var(--header-color-primary)}[_nghost-%COMP%]   .navbar-menu[_ngcontent-%COMP%]{background:var(--header-bg-primary);color:var(--header-color-primary)}"]})}return i})();function k(i,h){if(1&i&&e._UZ(0,"ion-icon",1),2&i){const t=e.oxw();e.Q6J("name",t.subMenuVisible?"chevron-up-outline":"chevron-down-outline")}}function S(i,h){if(1&i&&(e.ynx(0),e._UZ(1,"rca-sidebar-item",5),e.BQk()),2&i){const t=h.$implicit,n=e.oxw();e.xp6(1),e.Q6J("item",t)("deep",n.deep+1)}}const Z=function(){return{exact:!0}},A={route:"",icon:"",description:"",subcategories:[],action:()=>{}};let F=(()=>{class i{privateTemplateService;deep=0;item=A;sidebar;subMenuVisible=!1;constructor(t){this.privateTemplateService=t,this.privateTemplateService.sidebar.subscribe(n=>{this.sidebar=n})}toggleSubMenuVisible(){this.subMenuVisible=!this.subMenuVisible,this.sidebar.opened||setTimeout(()=>this.privateTemplateService.openSidebar()),this.item.action instanceof Function&&this.item.action()}static \u0275fac=function(n){return new(n||i)(e.Y36(u.I))};static \u0275cmp=e.Xpm({type:i,selectors:[["rca-sidebar-item"]],inputs:{deep:"deep",item:"item"},decls:9,vars:8,consts:[["routerLinkActive","is-active",1,"menu-title",3,"routerLink","routerLinkActiveOptions","click"],[3,"name"],[3,"name",4,"ngIf"],[1,"sub-menu"],[4,"ngFor","ngForOf"],[3,"item","deep"]],template:function(n,o){1&n&&(e.TgZ(0,"li")(1,"a",0),e.NdJ("click",function(){return o.toggleSubMenuVisible()}),e._UZ(2,"ion-icon",1),e.TgZ(3,"span"),e._uU(4),e.qZA(),e.YNc(5,k,1,1,"ion-icon",2),e.qZA(),e.TgZ(6,"div",3)(7,"ul"),e.YNc(8,S,2,2,"ng-container",4),e.qZA()()()),2&n&&(e.xp6(1),e.Q6J("routerLink",o.item.route)("routerLinkActiveOptions",e.DdM(7,Z)),e.xp6(1),e.Q6J("name",o.item.icon),e.xp6(2),e.Oqu(o.item.description),e.xp6(1),e.Q6J("ngIf",o.item.subcategories&&o.item.subcategories.length),e.xp6(1),e.Q6J("@submenu",o.subMenuVisible?"show":"hide"),e.xp6(2),e.Q6J("ngForOf",o.item.subcategories))},dependencies:[r.sg,r.O5,m.rH,m.Od,i],styles:["[_nghost-%COMP%]   aside[_ngcontent-%COMP%]{background:var(--sidebar-bg-primary)}[_nghost-%COMP%]   li[_ngcontent-%COMP%]{min-width:200px;background:var(--sidebar-bg-primary)}[_nghost-%COMP%]   .sub-menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;flex-direction:column;background:var(--sidebar-bg-secondary);padding-left:1.7rem}[_nghost-%COMP%]   .sub-menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{background:var(--sidebar-bg-secondary)}[_nghost-%COMP%]   .menu-title[_ngcontent-%COMP%]{display:flex;flex:1;align-items:center;padding:12px 0;color:var(--sidebar-color-primary)}[_nghost-%COMP%]   .menu-title[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin:0 10px}[_nghost-%COMP%]   .menu-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{flex:1;text-wrap:nowrap}[_nghost-%COMP%]   .menu-title[_ngcontent-%COMP%]:hover{color:var(--sidebar-color-primary-h)}[_nghost-%COMP%]   .is-active[_ngcontent-%COMP%]{color:#dee2ec}"],data:{animation:[(0,s.X$)("submenu",[(0,s.SB)("show",(0,s.oB)({overflow:"hidden",height:"*"})),(0,s.SB)("hide",(0,s.oB)({overflow:"hidden",height:0})),(0,s.eR)("show => hide",(0,s.jt)("400ms")),(0,s.eR)("hide => show",(0,s.jt)("400ms"))])]}})}return i})();function I(i,h){if(1&i&&(e.ynx(0),e.TgZ(1,"ul"),e._UZ(2,"rca-sidebar-item",6),e.qZA(),e.BQk()),2&i){const t=h.$implicit;e.xp6(2),e.Q6J("item",t)("deep",0)}}let U=(()=>{class i{authService;isAdmin=!1;auth=d.b;subscriptions=[];menuItems=[];exitItem;constructor(t){this.authService=t}ngOnInit(){this.exitItem=this.getMenuSair(),this.subscriptions.push(this.authService.state.subscribe(t=>{this.auth=t,this.isAdmin="administrator"==t.user.profile,this.exitItem=this.getMenuSair(),this.menuItems=[{description:"Home",icon:"home-outline",route:"/private"}].concat(this.getMenuCadastros()).concat(this.getMenuFinanceiro()).concat(this.getMenuTicket()).concat(this.getMenuAdmin()).concat(this.getMenuProtheus()).concat([this.getMenuSair()])}))}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}getMenuAdmin(){const t=[];return"administrator"==this.auth.user.profile&&(t.push({description:"Administra\xe7\xe3o",icon:"book-outline",subcategories:[]}),"*"==this.auth.company.id&&(t[0].subcategories.push({route:"/private/client",icon:"podium-outline",description:"Clientes"}),t[0].subcategories.push({route:"/private/company",icon:"podium-outline",description:"Empresas"})),t[0].subcategories.push({route:"/private/user",icon:"person-outline",description:"Usu\xe1rios"})),t}getMenuFinanceiro(){return[{description:"Financeiro",icon:"wallet-outline",subcategories:[{description:"Contas a Receber",icon:"wallet-outline",route:"/private/expense"},{description:"Contas a Pagar",icon:"wallet-outline",route:"/private/revenue"}]}]}getMenuCadastros(){return[{description:"Cadastros",icon:"albums-outline",subcategories:[{description:"Entidades",icon:"person",route:"/private/entity"},{description:"Financeiro",icon:"wallet-outline",subcategories:[{route:"/private/account",icon:"wallet-outline",description:"Contas"},{route:"/private/payment-method",icon:"wallet-outline",description:"Formas de Pagamento"},{route:"/private/payment-rule",icon:"wallet-outline",description:"Regras de Pagamento"}]},{description:"Tickets",icon:"ticket-outline",subcategories:[{route:"/private/category",icon:"file-tray-stacked-outline",description:"Categorias"}]}]}]}getMenuTicket(){const t=[];return t.push({description:"Tickets",icon:"ticket-outline",subcategories:[{route:"/private/ticket",icon:"ticket-outline",description:"Meus Tickets"},{route:"/private/ticket/dynamic",icon:"ticket-outline",description:"Novo Ticket"}]}),t}getMenuSair(){return{description:"Sair",icon:"log-out-outline",action:()=>this.authService.logout()}}getTeste(){let t=0;const n=l=>{const p={icon:"file-tray-stacked-outline",description:"Categorias "+t++,subcategories:[]};l.subcategories.push(p),t<=4&&n(p)},o={icon:"file-tray-stacked-outline",description:"Teste ",subcategories:[]};return n(o),o}getMenuProtheus(){return[{description:"Protheus",icon:"file-tray-stacked-outline",subcategories:[{route:"/protheus/private/table-structure",icon:"ticket-outline",description:"Estrutura de Tabelas"},{route:"/protheus/private/table-data",icon:"ticket-outline",description:"Consultar Tabela"}]}]}static \u0275fac=function(n){return new(n||i)(e.Y36(d.e))};static \u0275cmp=e.Xpm({type:i,selectors:[["rca-sidebar"]],decls:9,vars:1,consts:[[1,"sidebar-header"],[1,"sidebar-body"],[4,"ngFor","ngForOf"],[1,"sidebar-footer"],[1,"p-3"],["href","https://github.com/rogersabe","target","_blank"],[3,"item","deep"]],template:function(n,o){1&n&&(e.TgZ(0,"aside"),e._UZ(1,"div",0),e.TgZ(2,"nav",1),e.YNc(3,I,3,2,"ng-container",2),e.qZA(),e.TgZ(4,"div",3)(5,"span",4),e._uU(6,"Desenvolvido por "),e.TgZ(7,"a",5),e._uU(8,"Rogers Abe"),e.qZA()()()()),2&n&&(e.xp6(3),e.Q6J("ngForOf",o.menuItems))},dependencies:[r.sg,F],styles:["[_nghost-%COMP%]   aside[_ngcontent-%COMP%]{background:var(--sidebar-bg-secondary);min-height:var(--body-height);max-height:var(--body-height);display:grid;grid-template-rows:auto 1fr auto}[_nghost-%COMP%]   .sidebar-header[_ngcontent-%COMP%]{text-wrap:nowrap}[_nghost-%COMP%]   .sidebar-body[_ngcontent-%COMP%]{overflow-y:auto;overflow-x:hidden;max-width:95vw}[_nghost-%COMP%]   .sidebar-footer[_ngcontent-%COMP%]{display:grid;text-wrap:nowrap;background:var(--sidebar-bg-primary)}[_nghost-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar{height:.5rem;width:.5rem;position:fixed}[_nghost-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar-track{border-radius:20px;background:var(--sidebar-bg-primary)}[_nghost-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:20px;background:#ffffff}"]})}return i})();const B=["*"];let E=(()=>{class i{constructor(){}ngOnInit(){}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=e.Xpm({type:i,selectors:[["rca-body"]],ngContentSelectors:B,decls:1,vars:0,template:function(n,o){1&n&&(e.F$t(),e.Hsn(0))},styles:["[_nghost-%COMP%]{background:var(--body-bg-primary);min-height:var(--body-height);max-height:var(--body-height);overflow-y:auto;overflow-x:hidden;padding:1rem}"]})}return i})(),H=(()=>{class i{constructor(){}ngOnInit(){}logRender=()=>(console.log(`Footer - ${new Date}`),"");static \u0275fac=function(n){return new(n||i)};static \u0275cmp=e.Xpm({type:i,selectors:[["rca-footer"]],decls:0,vars:0,template:function(n,o){}})}return i})(),J=(()=>{class i{privateTemplateService;authService;sidebar;initialized=!1;subscriptions=[];constructor(t,n){this.privateTemplateService=t,this.authService=n}ngOnInit(){this.subscriptions.push(this.privateTemplateService.sidebar.subscribe(t=>{this.sidebar=t})),this.subscriptions.push(this.authService.state.subscribe(t=>{})),this.initialized=!0}logRender=()=>(console.log("Private Template"),"");static \u0275fac=function(n){return new(n||i)(e.Y36(u.I),e.Y36(d.e))};static \u0275cmp=e.Xpm({type:i,selectors:[["rca-template-private"]],decls:6,vars:1,template:function(n,o){1&n&&(e._UZ(0,"rca-header"),e.TgZ(1,"div"),e._UZ(2,"rca-sidebar"),e.TgZ(3,"rca-body"),e._UZ(4,"router-outlet"),e.qZA()(),e._UZ(5,"rca-footer")),2&n&&(e.xp6(2),e.Q6J("@sidebar",o.sidebar.opened?"show":"hide"))},dependencies:[m.lC,P,U,E,H],styles:["[_nghost-%COMP%]{display:grid}[_nghost-%COMP%]   div[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto 1fr}"],data:{animation:[(0,s.X$)("sidebar",[(0,s.SB)("show",(0,s.oB)({"overflow-x":"hidden",width:"*"})),(0,s.SB)("hide",(0,s.oB)({"overflow-x":"hidden",width:"2.5rem"})),(0,s.eR)("show => hide",(0,s.jt)("300ms")),(0,s.eR)("hide => show",(0,s.jt)("300ms"))])]}})}return i})()}}]);