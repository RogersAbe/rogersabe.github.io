"use strict";(self.webpackChunkAngular_Base=self.webpackChunkAngular_Base||[]).push([[369],{9906:(B,w,s)=>{s.d(w,{M:()=>E});var C=s(1742);const r_browse=[{column:"sob_categories.description",title:"Sob-Categorias"},{column:"description",title:"Descri\xe7\xe3o"},{column:"sub_categories.description",title:"Sub-Categorias"}];var t=s(4946),x=s(2325),e=s(8307);function y(n,b){1&n&&t._UZ(0,"rca-category-form",2),2&n&&t.Q6J("config",b.$implicit)}let E=(()=>{class n{categoryService;config;columns=r_browse;constructor(f){this.categoryService=f}static \u0275fac=function(h){return new(h||n)(t.Y36(C.H))};static \u0275cmp=t.Xpm({type:n,selectors:[["rca-category-browse"]],inputs:{config:"config"},features:[t._Bn([C.H])],decls:3,vars:3,consts:[["title","Categorias",3,"config","service","columns"],["formTemplate",""],[3,"config"]],template:function(h,v){1&h&&(t.TgZ(0,"rca-page-browse",0),t.YNc(1,y,1,1,"ng-template",null,1,t.W1O),t.qZA()),2&h&&t.Q6J("config",v.config)("service",v.categoryService)("columns",v.columns)},dependencies:[x.P,e.C],encapsulation:2})}return n})()},8307:(B,w,s)=>{s.d(w,{C:()=>n});var C=s(1742),p=s(4946),r=s(95),t=s(9319);function x(b,f){1&b&&p._UZ(0,"rca-category-browse",6),2&b&&p.Q6J("config",f.$implicit)}function e(b,f){1&b&&p._UZ(0,"rca-category-form",6),2&b&&p.Q6J("config",f.$implicit)}function y(b,f){1&b&&p._UZ(0,"rca-category-browse",6),2&b&&p.Q6J("config",f.$implicit)}function E(b,f){1&b&&p._UZ(0,"rca-category-form",6),2&b&&p.Q6J("config",f.$implicit)}let n=(()=>{class b{formBuilder;categoryService;companyService;config;formGroup;constructor(h,v,Z){this.formBuilder=h,this.categoryService=v,this.companyService=Z}ngOnInit(){this.formGroup=this.formBuilder.group({description:[],sub_categories:[],sob_categories:[]})}static \u0275fac=function(v){return new(v||b)(p.Y36(r.qu),p.Y36(C.H),p.Y36(t.J))};static \u0275cmp=p.Xpm({type:b,selectors:[["rca-category-form"]],inputs:{config:"config"},features:[p._Bn([C.H])],decls:12,vars:8,consts:[["title","Cadastro de Categoria",3,"config","formGroup","service"],["label","Descri\xe7\xe3o","formControlName","description",3,"autofocus"],["label","Sob-Categorias","formControlName","sob_categories","colDescription","description",1,"col-12",3,"service","multiple"],["searchTemplate",""],["formTemplate",""],["label","Sub-Categorias","formControlName","sub_categories","colDescription","description",1,"col-12",3,"service","multiple"],[3,"config"]],template:function(v,Z){1&v&&(p.TgZ(0,"rca-page-form",0),p._UZ(1,"rca-edit-text",1),p.TgZ(2,"rca-auto-complete",2),p.YNc(3,x,1,1,"ng-template",null,3,p.W1O),p.YNc(5,e,1,1,"ng-template",null,4,p.W1O),p.qZA(),p.TgZ(7,"rca-auto-complete",5),p.YNc(8,y,1,1,"ng-template",null,3,p.W1O),p.YNc(10,E,1,1,"ng-template",null,4,p.W1O),p.qZA()()),2&v&&(p.Q6J("config",Z.config)("formGroup",Z.formGroup)("service",Z.categoryService),p.xp6(1),p.Q6J("autofocus",!0),p.xp6(1),p.Q6J("service",Z.categoryService)("multiple",!0),p.xp6(5),p.Q6J("service",Z.categoryService)("multiple",!0))},encapsulation:2})}return b})()},9051:(B,w,s)=>{s.d(w,{F:()=>E});var C=s(9319);const r_browse=[{column:"company_name",title:"Raz\xe3o"},{column:"fantasy_name",title:"Fantasia"},{column:"users.name",title:"Usuarios"}];var t=s(4946),x=s(2325),e=s(1981);function y(n,b){1&n&&t._UZ(0,"rca-company-form",2),2&n&&t.Q6J("config",b.$implicit)}let E=(()=>{class n{companyService;config;columns=r_browse;constructor(f){this.companyService=f}static \u0275fac=function(h){return new(h||n)(t.Y36(C.J))};static \u0275cmp=t.Xpm({type:n,selectors:[["rca-company-browse"]],inputs:{config:"config"},features:[t._Bn([C.J])],decls:3,vars:3,consts:[["title","Empresas",3,"config","service","columns"],["formTemplate",""],[3,"config"]],template:function(h,v){1&h&&(t.TgZ(0,"rca-page-browse",0),t.YNc(1,y,1,1,"ng-template",null,1,t.W1O),t.qZA()),2&h&&t.Q6J("config",v.config)("service",v.companyService)("columns",v.columns)},dependencies:[x.P,e.L],encapsulation:2})}return n})()},1981:(B,w,s)=>{s.d(w,{L:()=>v});var C=s(5836),p=s(9319),r=s(4946),t=s(95),x=s(3076),e=s(7525),y=s(9144),E=s(2193),n=s(6234),b=s(5616);function f(Z,Q){1&Z&&r._UZ(0,"rca-user-browse",9),2&Z&&r.Q6J("config",Q.$implicit)}function h(Z,Q){1&Z&&r._UZ(0,"rca-user-form",9),2&Z&&r.Q6J("config",Q.$implicit)}let v=(()=>{class Z{formBuilder;userService;companyService;clientService;config;formGroup;constructor(F,J,S,Y){this.formBuilder=F,this.userService=J,this.companyService=S,this.clientService=Y}ngOnInit(){this.formGroup=this.formBuilder.group({client:[],company_name:[""],fantasy_name:[""],phone:[""],email:[""],users:[[]]})}static \u0275fac=function(J){return new(J||Z)(r.Y36(t.qu),r.Y36(x.K),r.Y36(p.J),r.Y36(C.y))};static \u0275cmp=r.Xpm({type:Z,selectors:[["rca-company-form"]],inputs:{config:"config"},features:[r._Bn([p.J,p.J,C.y])],decls:11,vars:6,consts:[["title","Cadastro de Empresas",3,"config","formGroup","service"],["label","Cliente","formControlName","client","colDescription","fantasy_name",1,"col-12",3,"service"],["label","Empresa","formControlName","company_name"],["label","Fantasia","formControlName","fantasy_name"],["label","Telefone","formControlName","phone"],["label","Email","formControlName","email"],["label","Usu\xe1rios","formControlName","users","colDescription","name",1,"col-12",3,"service","multiple"],["searchTemplate",""],["formTemplate",""],[3,"config"]],template:function(J,S){1&J&&(r.TgZ(0,"rca-page-form",0),r._UZ(1,"rca-auto-complete",1)(2,"rca-edit-text",2)(3,"rca-edit-text",3)(4,"rca-edit-text",4)(5,"rca-edit-text",5),r.TgZ(6,"rca-auto-complete",6),r.YNc(7,f,1,1,"ng-template",null,7,r.W1O),r.YNc(9,h,1,1,"ng-template",null,8,r.W1O),r.qZA()()),2&J&&(r.Q6J("config",S.config)("formGroup",S.formGroup)("service",S.companyService),r.xp6(1),r.Q6J("service",S.clientService),r.xp6(5),r.Q6J("service",S.userService)("multiple",!0))},dependencies:[t.JJ,t.JL,t.sg,t.u,e.V,y.j,E.i,n.e,b.m],encapsulation:2})}return Z})()},5369:(B,w,s)=>{s.r(w),s.d(w,{PrivateModule:()=>u});var C=s(6814),p=s(9284),r=s(6825),t=s(4946),x=s(754),e=s(2333);function y(o,P){if(1&o&&t._UZ(0,"ion-icon",1),2&o){const a=t.oxw();t.Q6J("name",a.subMenuVisible?"chevron-up-outline":"chevron-down-outline")}}function E(o,P){if(1&o&&(t.ynx(0),t._UZ(1,"rca-sidebar-item",5),t.BQk()),2&o){const a=P.$implicit,l=t.oxw();t.xp6(1),t.Q6J("item",a)("deep",l.deep+1)}}const n=function(){return{exact:!0}},b={route:"",icon:"",description:"",subcategories:[],action:()=>{}};let f=(()=>{class o{privateTemplateService;deep=0;item=b;sidebar;subMenuVisible=!1;constructor(a){this.privateTemplateService=a}toggleSubMenuVisible(){this.subMenuVisible=!this.subMenuVisible,this.privateTemplateService.sidebar.subscribe(a=>{this.sidebar=a}),setTimeout(()=>this.privateTemplateService.openSidebar()),this.item.action instanceof Function&&this.item.action()}static \u0275fac=function(l){return new(l||o)(t.Y36(x.I))};static \u0275cmp=t.Xpm({type:o,selectors:[["rca-sidebar-item"]],inputs:{deep:"deep",item:"item"},decls:9,vars:8,consts:[["routerLinkActive","is-active",1,"menu-title",3,"routerLink","routerLinkActiveOptions","click"],[3,"name"],[3,"name",4,"ngIf"],[1,"sub-menu"],[4,"ngFor","ngForOf"],[3,"item","deep"]],template:function(l,d){1&l&&(t.TgZ(0,"li")(1,"a",0),t.NdJ("click",function(){return d.toggleSubMenuVisible()}),t._UZ(2,"ion-icon",1),t.TgZ(3,"span"),t._uU(4),t.qZA(),t.YNc(5,y,1,1,"ion-icon",2),t.qZA(),t.TgZ(6,"div",3)(7,"ul"),t.YNc(8,E,2,2,"ng-container",4),t.qZA()()()),2&l&&(t.xp6(1),t.Q6J("routerLink",d.item.route)("routerLinkActiveOptions",t.DdM(7,n)),t.xp6(1),t.Q6J("name",d.item.icon),t.xp6(2),t.Oqu(d.item.description),t.xp6(1),t.Q6J("ngIf",d.item.subcategories&&d.item.subcategories.length),t.xp6(1),t.Q6J("@submenu",d.subMenuVisible?"show":"hide"),t.xp6(2),t.Q6J("ngForOf",d.item.subcategories))},dependencies:[C.sg,C.O5,p.rH,p.Od,o],styles:["[_nghost-%COMP%]   aside[_ngcontent-%COMP%]{background:var(--sidebar-bg-primary)}[_nghost-%COMP%]   li[_ngcontent-%COMP%]{min-width:200px;background:var(--sidebar-bg-primary)}[_nghost-%COMP%]   .sub-menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;flex-direction:column;background:var(--sidebar-bg-secondary);padding-left:1.7rem}[_nghost-%COMP%]   .sub-menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{background:var(--sidebar-bg-secondary)}[_nghost-%COMP%]   .menu-title[_ngcontent-%COMP%]{display:flex;flex:1;align-items:center;padding:12px 0;color:var(--sidebar-color-primary)}[_nghost-%COMP%]   .menu-title[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin:0 10px}[_nghost-%COMP%]   .menu-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{flex:1;text-wrap:nowrap}[_nghost-%COMP%]   .menu-title[_ngcontent-%COMP%]:hover{color:var(--sidebar-color-primary-h)}[_nghost-%COMP%]   .is-active[_ngcontent-%COMP%]{color:#dee2ec}"],data:{animation:[(0,r.X$)("submenu",[(0,r.SB)("show",(0,r.oB)({overflow:"hidden",height:"*"})),(0,r.SB)("hide",(0,r.oB)({overflow:"hidden",height:0})),(0,r.eR)("show => hide",(0,r.jt)("400ms")),(0,r.eR)("hide => show",(0,r.jt)("400ms"))])]}})}return o})();function h(o,P){if(1&o&&(t.ynx(0),t.TgZ(1,"ul"),t._UZ(2,"rca-sidebar-item",6),t.qZA(),t.BQk()),2&o){const a=P.$implicit;t.xp6(2),t.Q6J("item",a)("deep",0)}}let v=(()=>{class o{authService;isAdmin=!1;auth=e.b;subscriptions=[];menuItems=[];exitItem;constructor(a){this.authService=a}ngOnInit(){this.exitItem=this.getMenuSair(),this.subscriptions.push(this.authService.state.subscribe(a=>{this.auth=a,this.isAdmin="administrator"==a.user.profile,this.exitItem=this.getMenuSair(),this.menuItems=[{description:"Home",icon:"home-outline",route:"/private"}].concat(this.getMenuCadastros()).concat(this.getMenuFinanceiro()).concat(this.getMenuTicket()).concat(this.getMenuAdmin()).concat(this.getTeste()).concat([this.getMenuSair()])}))}ngOnDestroy(){this.subscriptions.forEach(a=>a.unsubscribe())}getMenuAdmin(){const a=[];return"administrator"==this.auth.user.profile&&(a.push({description:"Administra\xe7\xe3o",icon:"book-outline",subcategories:[]}),"*"==this.auth.company.id&&a[0].subcategories.push({route:"company",icon:"podium-outline",description:"Empresas"}),a[0].subcategories.push({route:"user",icon:"person-outline",description:"Usu\xe1rios"})),a}getMenuFinanceiro(){return[{description:"Financeiro",icon:"wallet-outline",subcategories:[{description:"Contas a Receber",icon:"wallet-outline"},{description:"Contas a Pagar",icon:"wallet-outline"}]}]}getMenuCadastros(){return[{description:"Cadastros",icon:"albums-outline",subcategories:[{description:"Entidades",icon:"person",subcategories:[{route:"supplier",icon:"person",description:"Clientes"},{route:"supplier",icon:"person",description:"Fornecedores"}]},{description:"Financeiro",icon:"wallet-outline",subcategories:[{route:"supplier",icon:"wallet-outline",description:"Contas"},{route:"supplier",icon:"wallet-outline",description:"Formas de Pagamento"},{route:"supplier",icon:"wallet-outline",description:"Regras de Pagamento"}]},{description:"Tickets",icon:"ticket-outline",subcategories:[{route:"category",icon:"file-tray-stacked-outline",description:"Categorias"}]}]}]}getMenuTicket(){const a=[];return a.push({description:"Tickets",icon:"ticket-outline",subcategories:[{route:"ticket",icon:"ticket-outline",description:"Meus Tickets"},{route:"ticket/dynamic",icon:"ticket-outline",description:"Novo Ticket"}]}),a}getMenuSair(){return{description:"Sair",icon:"log-out-outline",action:()=>this.authService.logout()}}getTeste(){let a=0;const l=N=>{const D={icon:"file-tray-stacked-outline",description:"Categorias "+a++,subcategories:[]};N.subcategories.push(D),a<=5&&l(D)},d={icon:"file-tray-stacked-outline",description:"Teste ",subcategories:[]};return l(d),d}static \u0275fac=function(l){return new(l||o)(t.Y36(e.e))};static \u0275cmp=t.Xpm({type:o,selectors:[["rca-sidebar"]],decls:9,vars:1,consts:[[1,"sidebar-header"],[1,"sidebar-body"],[4,"ngFor","ngForOf"],[1,"sidebar-footer"],[1,"p-3"],["href","https://github.com/rogersabe","target","_blank"],[3,"item","deep"]],template:function(l,d){1&l&&(t.TgZ(0,"aside"),t._UZ(1,"div",0),t.TgZ(2,"nav",1),t.YNc(3,h,3,2,"ng-container",2),t.qZA(),t.TgZ(4,"div",3)(5,"span",4),t._uU(6,"Desenvolvido por "),t.TgZ(7,"a",5),t._uU(8,"Rogers Abe"),t.qZA()()()()),2&l&&(t.xp6(3),t.Q6J("ngForOf",d.menuItems))},dependencies:[C.sg,f],styles:["[_nghost-%COMP%]   aside[_ngcontent-%COMP%]{background:var(--sidebar-bg-secondary);min-height:var(--body-height);max-height:var(--body-height);display:grid;grid-template-rows:auto 1fr auto}[_nghost-%COMP%]   .sidebar-header[_ngcontent-%COMP%]{text-wrap:nowrap}[_nghost-%COMP%]   .sidebar-body[_ngcontent-%COMP%]{overflow-y:auto;overflow-x:hidden;max-width:95vw}[_nghost-%COMP%]   .sidebar-footer[_ngcontent-%COMP%]{display:grid;text-wrap:nowrap;background:var(--sidebar-bg-primary)}[_nghost-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar{height:.5rem;width:.5rem;position:fixed}[_nghost-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar-track{border-radius:20px;background:var(--sidebar-bg-primary)}[_nghost-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:20px;background:#ffffff}"]})}return o})();var Z=s(9319),Q=s(2019);function F(o,P){if(1&o&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&o){const a=t.oxw();t.xp6(1),t.AsE("",a.auth.user.name," - ",a.auth.company.fantasy_name,"")}}function J(o,P){if(1&o){const a=t.EpF();t.TgZ(0,"div",5),t.NdJ("click",function(){const N=t.CHM(a).$implicit,D=t.oxw();return t.KtG(D.handleSelectCompany(N))}),t._uU(1),t.qZA()}if(2&o){const a=P.$implicit;t.xp6(1),t.hij(" ",a.fantasy_name," ")}}function S(o,P){if(1&o){const a=t.EpF();t.TgZ(0,"div",5),t.NdJ("click",function(){const N=t.CHM(a).$implicit,D=t.oxw();return t.KtG(D.handleSelectCompany(N))}),t._uU(1),t.qZA()}if(2&o){const a=P.$implicit;t.xp6(1),t.hij(" ",a.fantasy_name," ")}}const Y=function(o){return{"is-active":o}};let G=(()=>{class o{companyService;authService;companies=[];auth=e.b;popupVisible=!1;constructor(a,l){this.companyService=a,this.authService=l}ngOnInit(){this.authService.state.subscribe(a=>{this.auth=a}),this.companyService.selectMany({id:"*"}).subscribe(a=>{this.companies=[{id:"*",company_name:"Todas",fantasy_name:"Todas"},...a]})}handleSelectCompany(a){this.authService.setCompany(a),this.togglePopupVisible()}handleLogout(){this.authService.logout()}togglePopupVisible(){this.popupVisible=!this.popupVisible}static \u0275fac=function(l){return new(l||o)(t.Y36(Z.J),t.Y36(e.e))};static \u0275cmp=t.Xpm({type:o,selectors:[["rca-header-company"]],decls:19,vars:7,consts:[[4,"ngIf"],["contextMenu",""],["class","dropdown-item",3,"click",4,"ngFor","ngForOf"],[1,"dropdown-divider"],[1,"dropdown-content"],[1,"dropdown-item",3,"click"],["aria-haspopup","true",3,"click"],[1,"image","is-36x36","m-2","pointer",2,"height","30px","width","30px"],["src","https://bulma.io/images/placeholders/256x256.png",1,"is-rounded"],[1,"dropdown","is-right",3,"ngClass"],["id","dropdown-menu","role","menu",1,"dropdown-menu"]],template:function(l,d){if(1&l){const N=t.EpF();t.YNc(0,F,2,2,"span",0),t.TgZ(1,"rca-context-menu",null,1),t.YNc(3,J,2,1,"div",2),t._UZ(4,"hr",3),t.TgZ(5,"div",4)(6,"div",5),t.NdJ("click",function(){return d.handleLogout()}),t._uU(7,"Sair"),t.qZA()()(),t.TgZ(8,"div",6),t.NdJ("click",function(){t.CHM(N);const ae=t.MAs(2);return t.KtG(ae.show())}),t.TgZ(9,"figure",7),t._UZ(10,"img",8),t.qZA()(),t.TgZ(11,"div",9)(12,"div",10)(13,"div",4),t.YNc(14,S,2,1,"div",2),t._UZ(15,"hr",3),t.TgZ(16,"div",4)(17,"div",5),t.NdJ("click",function(){return d.handleLogout()}),t._uU(18,"Sair"),t.qZA()()()()()}if(2&l){const N=t.MAs(2);t.Q6J("ngIf",(null==d.auth?null:d.auth.user)&&d.auth.company),t.xp6(3),t.Q6J("ngForOf",d.companies),t.xp6(5),t.uIk("aria-controls",N.id),t.xp6(3),t.Q6J("ngClass",t.VKq(5,Y,d.popupVisible)),t.xp6(3),t.Q6J("ngForOf",d.companies)}},dependencies:[C.mk,C.sg,C.O5,Q.z],styles:["[_nghost-%COMP%]{display:flex;align-items:center;justify-content:center}"]})}return o})(),W=(()=>{class o{authService;templateService;sidebar;auth;subscriptions=[];constructor(a,l){this.authService=a,this.templateService=l}ngOnInit(){this.subscriptions.push(this.templateService.sidebar.subscribe(a=>{this.sidebar=a})),this.subscriptions.push(this.authService.state.subscribe(a=>{this.auth=a}))}ngOnDestroy(){this.subscriptions.forEach(a=>a.unsubscribe())}logRender=()=>(console.log(`Header - ${new Date}`),"");static \u0275fac=function(l){return new(l||o)(t.Y36(e.e),t.Y36(x.I))};static \u0275cmp=t.Xpm({type:o,selectors:[["rca-header"]],decls:8,vars:0,consts:[["role","navigation","aria-label","main navigation",1,"navbar"],[1,"navbar-brand","is-align-items-center"],[1,"button","is-small","is-primary","mh-1","ml-2",3,"click"],[1,"icon","is-small"],["name","menu"],["id","navbarBasicExample",1,"navbar-menu"],[1,"navbar-end"]],template:function(l,d){1&l&&(t.TgZ(0,"nav",0)(1,"div",1)(2,"button",2),t.NdJ("click",function(){return d.templateService.toggleSidebar()}),t.TgZ(3,"span",3),t._UZ(4,"ion-icon",4),t.qZA()()(),t.TgZ(5,"div",5)(6,"div",6),t._UZ(7,"rca-header-company"),t.qZA()()())},dependencies:[G],styles:["[_nghost-%COMP%]{min-height:var(--header-height);max-height:var(--header-height);background:var(--header-bg-primary);z-index:999998;display:grid;align-items:center}[_nghost-%COMP%]   .navbar-brand[_ngcontent-%COMP%]{background:var(--header-bg-primary);color:var(--header-color-primary)}[_nghost-%COMP%]   .navbar-menu[_ngcontent-%COMP%]{background:var(--header-bg-primary);color:var(--header-color-primary)}"]})}return o})();const j=["*"];let V=(()=>{class o{constructor(){}ngOnInit(){}static \u0275fac=function(l){return new(l||o)};static \u0275cmp=t.Xpm({type:o,selectors:[["rca-body"]],ngContentSelectors:j,decls:1,vars:0,template:function(l,d){1&l&&(t.F$t(),t.Hsn(0))},styles:["[_nghost-%COMP%]{background:var(--body-bg-primary);min-height:var(--body-height);max-height:var(--body-height);overflow-y:auto;overflow-x:hidden;padding:1rem}"]})}return o})(),z=(()=>{class o{constructor(){}ngOnInit(){}logRender=()=>(console.log(`Footer - ${new Date}`),"");static \u0275fac=function(l){return new(l||o)};static \u0275cmp=t.Xpm({type:o,selectors:[["rca-footer"]],decls:0,vars:0,template:function(l,d){}})}return o})();const $=[{path:"",component:(()=>{class o{privateTemplateService;authService;sidebar;initialized=!1;subscriptions=[];constructor(a,l){this.privateTemplateService=a,this.authService=l}ngOnInit(){this.subscriptions.push(this.privateTemplateService.sidebar.subscribe(a=>{this.sidebar=a})),this.subscriptions.push(this.authService.state.subscribe(a=>{this.privateTemplateService.closeSidebar()})),this.initialized=!0}logRender=()=>(console.log("Private Template"),"");static \u0275fac=function(l){return new(l||o)(t.Y36(x.I),t.Y36(e.e))};static \u0275cmp=t.Xpm({type:o,selectors:[["rca-template-private"]],decls:6,vars:1,template:function(l,d){1&l&&(t._UZ(0,"rca-header"),t.TgZ(1,"div"),t._UZ(2,"rca-sidebar"),t.TgZ(3,"rca-body"),t._UZ(4,"router-outlet"),t.qZA()(),t._UZ(5,"rca-footer")),2&l&&(t.xp6(2),t.Q6J("@sidebar",d.sidebar.opened?"show":"hide"))},dependencies:[p.lC,v,W,V,z],styles:["[_nghost-%COMP%]{display:grid}[_nghost-%COMP%]   div[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto 1fr}"],data:{animation:[(0,r.X$)("sidebar",[(0,r.SB)("show",(0,r.oB)({"overflow-x":"hidden",width:"*"})),(0,r.SB)("hide",(0,r.oB)({"overflow-x":"hidden",width:"2.5rem"})),(0,r.eR)("show => hide",(0,r.jt)("300ms")),(0,r.eR)("hide => show",(0,r.jt)("300ms"))])]}})}return o})(),children:[{path:"company",loadChildren:()=>s.e(647).then(s.bind(s,2647)).then(o=>o.CompanyRoutingModule)},{path:"user",loadChildren:()=>s.e(21).then(s.bind(s,2021)).then(o=>o.UserRoutingModule)},{path:"ticket",loadChildren:()=>s.e(2).then(s.bind(s,6002)).then(o=>o.TicketModule)},{path:"category",loadChildren:()=>s.e(741).then(s.bind(s,8741)).then(o=>o.CategoryRoutingModule)},{path:"",pathMatch:"full",component:(()=>{class o{constructor(){}ngOnInit(){}static \u0275fac=function(l){return new(l||o)};static \u0275cmp=t.Xpm({type:o,selectors:[["rca-home"]],decls:2,vars:0,template:function(l,d){1&l&&(t.TgZ(0,"p"),t._uU(1,"home works!"),t.qZA())},encapsulation:2})}return o})()}]}];let X=(()=>{class o{static \u0275fac=function(l){return new(l||o)};static \u0275mod=t.oAB({type:o});static \u0275inj=t.cJS({imports:[p.Bz.forChild($),p.Bz]})}return o})();var R=s(6208),q=s(9906),L=s(8307),ee=s(9051),te=s(1981),ne=s(5616),oe=s(3883),K=s(6018),I=s(95),H=s(7525),k=s(9144),_=s(2193),M=s(5537),m=s(5261),O=s(8767);function A(o,P){if(1&o&&(t.TgZ(0,"option",5),t._uU(1),t.qZA()),2&o){const a=P.$implicit,l=t.oxw();t.Q6J("value",a[l.optionValue]),t.xp6(1),t.hij(" ",a[l.optionDescription]," ")}}function U(o,P){if(1&o&&(t.TgZ(0,"span",6),t._uU(1),t.qZA()),2&o){const a=t.oxw();t.xp6(1),t.hij(" ",a.errorMessage," ")}}const c=function(o){return{disabled:o}};let T=(()=>{class o extends m.C{options=[];optionValue="value";optionDescription="description";multiple=!1;onChangeValue(a){this.handleChange(a.target.value)}static \u0275fac=function(){let a;return function(d){return(a||(a=t.n5z(o)))(d||o)}}();static \u0275cmp=t.Xpm({type:o,selectors:[["rca-dropdown"]],inputs:{options:"options",optionValue:"optionValue",optionDescription:"optionDescription",multiple:"multiple"},features:[t._Bn([{provide:I.JU,useExisting:(0,t.Gpc)(()=>o),multi:!0}]),t.qOj],decls:10,vars:13,consts:[[1,"flex-column"],[1,"select","is-small",2,"width","100%",3,"ngClass"],[2,"width","100%",3,"ngClass","id","ngModel","disableControl","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],["class","has-text-danger",4,"ngIf"],[3,"value"],[1,"has-text-danger"]],template:function(l,d){1&l&&(t._uU(0),t.ALo(1,"pure"),t.TgZ(2,"div",0)(3,"label"),t._uU(4),t.qZA(),t.TgZ(5,"div")(6,"div",1)(7,"select",2),t.NdJ("ngModelChange",function(D){return d.value=D})("change",function(D){return d.onChangeValue(D)}),t.YNc(8,A,2,2,"option",3),t.qZA()()(),t.YNc(9,U,2,1,"span",4),t.qZA()),2&l&&(t.hij("",t.lcZ(1,9,d.logRender)," "),t.xp6(4),t.Oqu(d.label),t.xp6(2),t.Q6J("ngClass",d.className),t.xp6(1),t.Q6J("ngClass",t.VKq(11,c,d.disabled||d.page.disabled))("id",d.elementId)("ngModel",d.value)("disableControl",d.disabled||d.page.disabled),t.xp6(1),t.Q6J("ngForOf",d.options),t.xp6(1),t.Q6J("ngIf",!d.valid&&d.errorMessage))},dependencies:[C.mk,C.sg,C.O5,I.YN,I.Kr,I.EJ,I.JJ,I.On,M.d,O.J],encapsulation:2})}return o})(),i=(()=>{class o{static \u0275fac=function(l){return new(l||o)};static \u0275mod=t.oAB({type:o});static \u0275inj=t.cJS({imports:[C.ez,I.u5,I.UX,R.m,oe.e,K.k]})}return o})();t.B6R(L.C,[I.JJ,I.JL,I.sg,I.u,H.V,k.j,_.i,q.M,L.C],[]),t.B6R(ne.m,[I.JJ,I.JL,I.sg,I.u,M.d,H.V,k.j,T,_.i,ee.F,te.L],[]);var g=s(5583);let u=(()=>{class o{static \u0275fac=function(l){return new(l||o)};static \u0275mod=t.oAB({type:o});static \u0275inj=t.cJS({imports:[C.ez,R.m,g.D,K.k,i,X]})}return o})()},6234:(B,w,s)=>{s.d(w,{e:()=>E});var C=s(3076);const r_browse=[{column:"name",title:"Name"},{column:"companies.company_name",title:"Empresas"},{column:"profile",title:"Perfil"}];var t=s(4946),x=s(2325),e=s(5616);function y(n,b){1&n&&t._UZ(0,"rca-user-form",2),2&n&&t.Q6J("config",b.$implicit)}let E=(()=>{class n{userService;config;columns=r_browse;constructor(f){this.userService=f}static \u0275fac=function(h){return new(h||n)(t.Y36(C.K))};static \u0275cmp=t.Xpm({type:n,selectors:[["rca-user-browse"]],inputs:{config:"config"},features:[t._Bn([C.K])],decls:3,vars:3,consts:[["title","Usu\xe1rios",3,"config","service","columns"],["formTemplate",""],[3,"config"]],template:function(h,v){1&h&&(t.TgZ(0,"rca-page-browse",0),t.YNc(1,y,1,1,"ng-template",null,1,t.W1O),t.qZA()),2&h&&t.Q6J("config",v.config)("service",v.userService)("columns",v.columns)},dependencies:[x.P,e.m],encapsulation:2})}return n})()},5616:(B,w,s)=>{s.d(w,{m:()=>E});var C=s(9319),p=s(3076),r=s(4946),t=s(95),x=s(2333);function e(n,b){1&n&&r._UZ(0,"rca-company-browse",11),2&n&&r.Q6J("config",b.$implicit)}function y(n,b){1&n&&r._UZ(0,"rca-company-form",11),2&n&&r.Q6J("config",b.$implicit)}let E=(()=>{class n{formBuilder;userService;companyService;authService;config;formGroup;auth;subscriptions=[];profiles=[{value:"administrator",description:"Administrador"},{value:"user",description:"Usuario"}];status=[{value:"pendente",description:"Pendente"},{value:"aprovado",description:"Aprovado"},{value:"bloqueado",description:"Bloqueado"},{value:"rejeitado",description:"Rejeitado"},{value:"excluido",description:"Exclu\xeddo"}];constructor(f,h,v,Z){this.formBuilder=f,this.userService=h,this.companyService=v,this.authService=Z}ngOnInit(){this.subscriptions.push(this.authService.state.subscribe(f=>{this.auth=f})),this.formGroup=this.formBuilder.group({name:[""],username:[""],password:[""],profile:[""],status:[""],companies:[[]]})}ngOnDestroy(){this.subscriptions.forEach(f=>f.unsubscribe())}static \u0275fac=function(h){return new(h||n)(r.Y36(t.qu),r.Y36(p.K),r.Y36(C.J),r.Y36(x.e))};static \u0275cmp=r.Xpm({type:n,selectors:[["rca-user-form"]],inputs:{config:"config"},features:[r._Bn([p.K,C.J])],decls:15,vars:8,consts:[["title","Cadastro de Usu\xe1rio",3,"config","formGroup","service"],[1,"row"],["label","Nome","formControlName","name",1,"col-6"],[1,"col-6"],["label","Usuario","formControlName","username",1,"col-6"],["type","password","label","Senha","formControlName","password",1,"col-6"],["label","Perfil","formControlName","profile",1,"col-6",3,"options"],["label","Status","formControlName","status",1,"col-6",3,"options"],["label","Empresas","formControlName","companies","colDescription","company_name",1,"col-12",3,"service","disableControl","multiple"],["searchTemplate",""],["formTemplate",""],[3,"config"]],template:function(h,v){1&h&&(r.TgZ(0,"rca-page-form",0)(1,"div",1),r._UZ(2,"rca-edit-text",2),r.TgZ(3,"div",3)(4,"div",1),r._UZ(5,"rca-edit-text",4)(6,"rca-edit-text",5),r.qZA()()(),r.TgZ(7,"div",1),r._UZ(8,"rca-dropdown",6)(9,"rca-dropdown",7),r.qZA(),r.TgZ(10,"rca-auto-complete",8),r.YNc(11,e,1,1,"ng-template",null,9,r.W1O),r.YNc(13,y,1,1,"ng-template",null,10,r.W1O),r.qZA()()),2&h&&(r.Q6J("config",v.config)("formGroup",v.formGroup)("service",v.userService),r.xp6(8),r.Q6J("options",v.profiles),r.xp6(1),r.Q6J("options",v.status),r.xp6(1),r.Q6J("service",v.companyService)("disableControl","*"!=v.auth.company.id)("multiple",!0))},encapsulation:2})}return n})()},1742:(B,w,s)=>{s.d(w,{H:()=>t});var C=s(9277),p=s(4946);let t=(()=>{class x extends C.S{injector;constructor(y){super(y),this.injector=y,this.api="category"}getCategories(y){return this.selectMany({NOT:{sob_categories:{some:{}}},AND:{company:{id:y}}})}getSubCategories(y){return this.selectMany({sob_categories:{some:{sob_category_id:y}}})}getSobCategories(y){return this.selectMany({sub_categories:{some:{sub_category_id:y}}})}static \u0275fac=function(E){return new(E||x)(p.LFG(p.zs3))};static \u0275prov=p.Yz7({token:x,factory:x.\u0275fac,providedIn:"any"})}return x})()},9319:(B,w,s)=>{s.d(w,{J:()=>t});var C=s(9277),p=s(4946);let t=(()=>{class x extends C.S{injector;constructor(y){super(y),this.injector=y,this.api="company"}static \u0275fac=function(E){return new(E||x)(p.LFG(p.zs3))};static \u0275prov=p.Yz7({token:x,factory:x.\u0275fac,providedIn:"any"})}return x})()},9144:(B,w,s)=>{function C(c,T,i,g,u,o,P){try{var a=c[o](P),l=a.value}catch(d){return void i(d)}a.done?T(l):Promise.resolve(l).then(g,u)}s.d(w,{j:()=>U});var r=s(95),t=s(5261),x=s(5619),e=s(4946);let y=(()=>{class c{state;ngOnInit(){this.state=new x.X({id:"",type:"default",visible:!1})}show(){return this.state.next({...this.state.value,visible:!0}),this}hide(){return this.state.next({...this.state.value,visible:!1}),this}setId(i){return this.state.next({...this.state.value,id:i}),this}setType(i){return this.state.next({...this.state.value,type:i}),this}static \u0275fac=function(g){return new(g||c)};static \u0275prov=e.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})();var E=s(8180),n=s(6814),b=s(1427),f=s(7624),h=s(8767);const v=["formTemplate"],Z=["searchTemplate"],Q=["inputEl"];function F(c,T){}function J(c,T){if(1&c&&e._UZ(0,"rca-skeleton",3),2&c){const i=e.oxw();e.Q6J("owner",i)}}function S(c,T){}const Y=function(c){return{$implicit:c}};function G(c,T){if(1&c&&e.YNc(0,S,0,0,"ng-template",15),2&c){const i=e.oxw(3);e.Q6J("ngTemplateOutlet",i.searchTemplate)("ngTemplateOutletContext",e.VKq(2,Y,i.searchConfig))}}function W(c,T){if(1&c){const i=e.EpF();e.ynx(0),e.TgZ(1,"rca-modal",13),e.NdJ("onClose",function(){e.CHM(i);const u=e.oxw(2);return e.KtG(u.closeModalSearch())}),e.YNc(2,G,1,4,"ng-template",null,14,e.W1O),e.qZA(),e.BQk()}}function j(c,T){}function V(c,T){if(1&c&&e.YNc(0,j,0,0,"ng-template",15),2&c){const i=e.oxw(3);e.Q6J("ngTemplateOutlet",i.formTemplate)("ngTemplateOutletContext",e.VKq(2,Y,i.formConfig))}}function z(c,T){if(1&c){const i=e.EpF();e.ynx(0),e.TgZ(1,"rca-modal",13),e.NdJ("onClose",function(u){e.CHM(i);const o=e.oxw(2);return e.KtG(o.closeModalForm(u))}),e.YNc(2,V,1,4,"ng-template",null,14,e.W1O),e.qZA(),e.BQk()}}function ie(c,T){if(1&c){const i=e.EpF();e.TgZ(0,"span",18),e.NdJ("click",function(){e.CHM(i);const u=e.oxw(3);return e.KtG(u.showModalSearch("search"))}),e._UZ(1,"ion-icon",19),e.qZA()}}function se(c,T){if(1&c&&(e.TgZ(0,"div",16),e.YNc(1,ie,2,0,"span",17),e.qZA()),2&c){const i=e.oxw(2);e.xp6(1),e.Q6J("ngIf",!(i.disabled||i.page.disabled))}}function $(c,T){1&c&&e.GkF(0)}function X(c,T){if(1&c){const i=e.EpF();e.TgZ(0,"input",20,21),e.NdJ("focus",function(){e.CHM(i);const u=e.oxw(2);return e.KtG(u.onFocus())})("blur",function(){e.CHM(i);const u=e.oxw(2);return e.KtG(u.onBlur())})("keydown",function(u){e.CHM(i);const o=e.oxw(2);return e.KtG(o.onKeyUp(u))}),e.qZA()}if(2&c){const i=e.oxw(2);e.Q6J("id",i.elementId)("ngClass",i.className)}}function R(c,T){if(1&c){const i=e.EpF();e.TgZ(0,"span",23),e.NdJ("click",function(){e.CHM(i);const u=e.oxw(3);return e.KtG(u.showModalForm("new",void 0))}),e._UZ(1,"ion-icon",24),e.qZA()}}function q(c,T){if(1&c&&(e.TgZ(0,"div",16),e.YNc(1,R,2,0,"span",22),e.qZA()),2&c){const i=e.oxw(2);e.xp6(1),e.Q6J("ngIf",!(i.disabled||i.page.disabled))}}const L=function(c){return{selected:c}};function ee(c,T){if(1&c){const i=e.EpF();e.ynx(0),e.TgZ(1,"tr",27),e.NdJ("click",function(){const o=e.CHM(i).index,P=e.oxw(3);return e.KtG(P.addItem(o))}),e.TgZ(2,"td"),e._uU(3),e.qZA()(),e.BQk()}if(2&c){const i=T.$implicit,g=e.oxw(3);e.xp6(1),e.Q6J("ngClass",e.VKq(2,L,g.selectedObj&&g.selectedObj[g.colValue]==i[g.colValue])),e.xp6(2),e.Oqu(i[g.colDescription])}}function te(c,T){if(1&c){const i=e.EpF();e.TgZ(0,"table",25),e.NdJ("mouseenter",function(){e.CHM(i);const u=e.oxw(2);return e.KtG(u.onMouseEnter())})("mouseleave",function(){e.CHM(i);const u=e.oxw(2);return e.KtG(u.onMouseLeave())}),e.TgZ(1,"thead")(2,"th"),e._uU(3,"Descri\xe7\xe3o"),e.qZA()(),e.TgZ(4,"tbody"),e.YNc(5,ee,4,4,"ng-container",26),e.qZA()()}if(2&c){const i=e.oxw(2);e.xp6(5),e.Q6J("ngForOf",i.items)}}function ne(c,T){if(1&c){const i=e.EpF();e.TgZ(0,"span",32),e.NdJ("click",function(){e.CHM(i);const u=e.oxw().$implicit,o=e.oxw(3);return e.KtG(o.showModalForm("view",u))}),e._UZ(1,"ion-icon",33),e.qZA()}}function oe(c,T){if(1&c){const i=e.EpF();e.TgZ(0,"span",34),e.NdJ("click",function(){e.CHM(i);const u=e.oxw().index,o=e.oxw(3);return e.KtG(o.removeItem(u))}),e._UZ(1,"ion-icon",35),e.qZA()}}const K=function(c){return{background:c}};function I(c,T){if(1&c&&(e.TgZ(0,"span",29),e.YNc(1,ne,2,0,"span",30),e.TgZ(2,"span"),e._uU(3),e.qZA(),e.YNc(4,oe,2,0,"span",31),e.qZA()),2&c){const i=T.$implicit,g=e.oxw(3);e.Q6J("ngStyle",e.VKq(4,K,g.disabled||g.page.disabled?"#5e7581":"#2a8bbc")),e.xp6(1),e.Q6J("ngIf",g.formTemplate),e.xp6(2),e.Oqu(i[g.colDescription]),e.xp6(1),e.Q6J("ngIf",!(g.disabled||g.page.disabled))}}function H(c,T){if(1&c&&e.YNc(0,I,5,6,"span",28),2&c){const i=e.oxw(2);e.Q6J("ngForOf",i.value)}}function k(c,T){if(1&c){const i=e.EpF();e.TgZ(0,"span",32),e.NdJ("click",function(){e.CHM(i);const u=e.oxw(4);return e.KtG(u.showModalForm("view",u.value))}),e._UZ(1,"ion-icon",33),e.qZA()}}function _(c,T){if(1&c){const i=e.EpF();e.TgZ(0,"span",34),e.NdJ("click",function(){e.CHM(i);const u=e.oxw(4);return e.KtG(u.removeItem(-1))}),e._UZ(1,"ion-icon",35),e.qZA()}}function M(c,T){if(1&c&&(e.TgZ(0,"span",29),e.YNc(1,k,2,0,"span",30),e.TgZ(2,"span"),e._uU(3),e.qZA(),e.YNc(4,_,2,0,"span",31),e.qZA()),2&c){const i=e.oxw(3);e.Q6J("ngStyle",e.VKq(4,K,i.disabled||i.page.disabled?"#5e7581":"#2a8bbc")),e.xp6(1),e.Q6J("ngIf",i.formTemplate),e.xp6(2),e.Oqu(i.value[i.colDescription]),e.xp6(1),e.Q6J("ngIf",!(i.disabled||i.page.disabled))}}function m(c,T){if(1&c&&e.YNc(0,M,5,6,"span",36),2&c){const i=e.oxw(2);e.Q6J("ngIf",i.value)}}const O=function(c,T,i){return{"border-red":c,"border-gray":T,disabled:i}};function A(c,T){if(1&c&&(e.YNc(0,W,4,0,"ng-container",4),e.YNc(1,z,4,0,"ng-container",4),e._uU(2),e.ALo(3,"pure"),e.TgZ(4,"label"),e._uU(5),e.qZA(),e.TgZ(6,"div",5)(7,"div",6),e.YNc(8,se,2,1,"div",7),e.YNc(9,$,1,0,"ng-container",8),e.YNc(10,X,2,2,"input",9),e.YNc(11,q,2,1,"div",7),e.YNc(12,te,6,1,"table",10),e.qZA()(),e.YNc(13,H,1,1,"ng-template",null,11,e.W1O),e.YNc(15,m,1,1,"ng-template",null,12,e.W1O)),2&c){const i=e.MAs(14),g=e.MAs(16),u=e.oxw();e.Q6J("ngIf",u.searchConfig.visible),e.xp6(1),e.Q6J("ngIf",u.formConfig.visible),e.xp6(1),e.hij(" ",e.lcZ(3,10,u.logRender)," "),e.xp6(3),e.Oqu(u.label),e.xp6(2),e.Q6J("ngClass",e.kEZ(12,O,!u.valid,u.valid,u.disabled||u.page.disabled)),e.xp6(1),e.Q6J("ngIf",u.searchTemplate),e.xp6(1),e.Q6J("ngTemplateOutlet",u.multiple?i:g),e.xp6(1),e.Q6J("ngIf",!(u.disabled||u.page.disabled)),e.xp6(1),e.Q6J("ngIf",u.formTemplate),e.xp6(1),e.Q6J("ngIf",u.tableVisible)}}let U=(()=>{class c extends t.C{service;multiple=!1;colValue="id";colDescription="description";inputEl;formTemplate;searchTemplate;selectedObj={};selectedIdx=-1;items=[];mouseHover=!1;tableVisible=!1;formConfig={owner:this,visible:!1,action:"new",selected:void 0};searchConfig={owner:this,visible:!1,action:"default",multiple:!1};onFocus(){var i=this;return function p(c){return function(){var T=this,i=arguments;return new Promise(function(g,u){var o=c.apply(T,i);function P(l){C(o,g,u,P,a,"next",l)}function a(l){C(o,g,u,P,a,"throw",l)}P(void 0)})}}(function*(){i.disabled||(i.loadData(),i.tableVisible=!0)})()}onMouseEnter(){this.mouseHover=!0}onMouseLeave(){this.mouseHover=!1}onBlur(){this.mouseHover||this.clear()}onKeyUp(i){this.tableVisible=!0,this.items?.length?("Tab"==i.code?this.clear():"Enter"==i.code?(this.addItem(),i.preventDefault()):"ArrowUp"==i.code?this.selectedIdx>0?this.selectedIdx--:this.selectedIdx=this.items.length-1:"ArrowDown"==i.code&&(this.selectedIdx<this.items?.length-1?this.selectedIdx++:this.selectedIdx=0),this.selectedObj=this.items[this.selectedIdx]):this.selectedObj=void 0}loadData(){this.service.selectMany().pipe((0,E.q)(1)).subscribe(i=>{this.items=i,this.selectedObj&&(this.selectedIdx=this.items.findIndex(g=>g[this.colValue]==this.selectedObj[this.colValue]))})}addItem(i=-1){i>-1&&(this.selectedObj=this.items[i]),this.selectedObj&&(this.multiple?(this.value||(this.value=[]),-1==this.value.findIndex(u=>u[this.colValue]==this.selectedObj[this.colValue])?this.value.push(this.selectedObj):this.alertService.toastInfo({message:"Op\xe7\xe3o j\xe1 escolhida."})):this.value=this.selectedObj,this.clear())}removeItem(i){this.multiple?this.value.splice(i,1):this.value=void 0,this.clear()}clear(){this.mouseHover=!1,this.selectedObj=void 0,this.selectedIdx=-1,this.inputEl.nativeElement.value="",this.tableVisible=!1,this.handleChange(this.value)}addValue(i){this.multiple?i instanceof Array?i.map(g=>{this.selectedObj=g,this.addItem()}):(this.selectedObj=i,this.addItem()):this.setValue(i)}setValue(i){this.value=i}getValue(){return this.value}showModalForm(i,g){this.formConfig={...this.formConfig,action:i,owner:this,visible:!0,selected:g}}closeModalForm(i){i&&(this.addValue(i),this.loadData()),this.formConfig={...this.formConfig,action:"new",owner:this,visible:!1,selected:void 0}}showModalSearch(i){this.searchConfig={...this.searchConfig,owner:this,visible:!0,action:i,multiple:this.multiple}}closeModalSearch(i){i&&this.addValue(i),this.searchConfig={...this.searchConfig,action:"default",owner:void 0,visible:!1,multiple:!1}}static \u0275fac=function(){let i;return function(u){return(i||(i=e.n5z(c)))(u||c)}}();static \u0275cmp=e.Xpm({type:c,selectors:[["rca-auto-complete"]],contentQueries:function(g,u,o){if(1&g&&(e.Suo(o,v,5),e.Suo(o,Z,5)),2&g){let P;e.iGM(P=e.CRH())&&(u.formTemplate=P.first),e.iGM(P=e.CRH())&&(u.searchTemplate=P.first)}},viewQuery:function(g,u){if(1&g&&e.Gf(Q,5),2&g){let o;e.iGM(o=e.CRH())&&(u.inputEl=o.first)}},inputs:{service:"service",multiple:"multiple",colValue:"colValue",colDescription:"colDescription"},features:[e._Bn([y,{provide:r.JU,useExisting:c,multi:!0}]),e.qOj],decls:5,vars:1,consts:[[3,"ngTemplateOutlet"],["loadingTemplate",""],["loadedTemplate",""],[3,"owner"],[4,"ngIf"],[1,"flex"],[1,"input-container",2,"width","100%",3,"ngClass"],["class","flex align-items-center justify-content-center",4,"ngIf"],[4,"ngTemplateOutlet"],["type","text","autocomplete","off",3,"id","ngClass","focus","blur","keydown",4,"ngIf"],[3,"mouseenter","mouseleave",4,"ngIf"],["tmpMultiple",""],["tmpSingle",""],[3,"onClose"],["full",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"flex","align-items-center","justify-content-center"],["class","flex is-align-items-center is-justify-content-center pl-2 pr-2","style","cursor: pointer; background: rgb(255, 179, 39)",3,"click",4,"ngIf"],[1,"flex","is-align-items-center","is-justify-content-center","pl-2","pr-2",2,"cursor","pointer","background","rgb(255, 179, 39)",3,"click"],["name","search"],["type","text","autocomplete","off",3,"id","ngClass","focus","blur","keydown"],["inputEl",""],["class","flex is-align-items-center is-justify-content-center pl-2 pr-2","style","cursor: pointer; background: rgb(61, 144, 61)",3,"click",4,"ngIf"],[1,"flex","is-align-items-center","is-justify-content-center","pl-2","pr-2",2,"cursor","pointer","background","rgb(61, 144, 61)",3,"click"],["name","add"],[3,"mouseenter","mouseleave"],[4,"ngFor","ngForOf"],[3,"ngClass","click"],["class","selected-item pl-2 pr-2 mh-1 pv-1",3,"ngStyle",4,"ngFor","ngForOf"],[1,"selected-item","pl-2","pr-2","mh-1","pv-1",3,"ngStyle"],["class","flex is-align-items-center is-justify-content-center pointer mr-2",3,"click",4,"ngIf"],["class","flex is-align-items-center is-justify-content-center pointer ml-2",3,"click",4,"ngIf"],[1,"flex","is-align-items-center","is-justify-content-center","pointer","mr-2",3,"click"],["name","eye"],[1,"flex","is-align-items-center","is-justify-content-center","pointer","ml-2",3,"click"],["name","trash"],["class","selected-item pl-2 pr-2 mh-1 pv-1",3,"ngStyle",4,"ngIf"]],template:function(g,u){if(1&g&&(e.YNc(0,F,0,0,"ng-template",0),e.YNc(1,J,1,1,"ng-template",null,1,e.W1O),e.YNc(3,A,17,16,"ng-template",null,2,e.W1O)),2&g){const o=e.MAs(2),P=e.MAs(4);e.Q6J("ngTemplateOutlet",u.page.loading||!u.page.initialized?o:P)}},dependencies:[n.mk,n.sg,n.O5,n.tP,n.PC,b._,f.z,h.J],styles:[".border-red[_ngcontent-%COMP%]{border:1px solid #f14668}.border-gray[_ngcontent-%COMP%]{border:1px solid #b5b5b5}.disabled[_ngcontent-%COMP%]{border-color:#ddd;background:none;cursor:not-allowed}[_nghost-%COMP%]{display:flex;flex-direction:column;position:relative}[_nghost-%COMP%]   .input-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;font-size:.75rem;border-radius:2px;border-width:1px;height:1.85rem;padding:.1rem}[_nghost-%COMP%]   .input-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;align-items:center;border-radius:.2rem;color:#fff;font-size:.75rem}[_nghost-%COMP%]   .input-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:none;border:none;outline:none;color:#fff;margin:3px;padding:0 0rem;cursor:pointer}[_nghost-%COMP%]   .input-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:relative;flex:1;padding:0 0rem;border:none;outline:none}[_nghost-%COMP%]   .input-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:disabled{box-shadow:none;border:none}[_nghost-%COMP%]   table[_ngcontent-%COMP%]{position:absolute;top:calc(100% - 1px);left:0;width:100%;border:1px solid #b5b5b5;background:#fff;z-index:99999}[_nghost-%COMP%]   table[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]{background:#123ccc}[_nghost-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:5px 10px}[_nghost-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{cursor:pointer;background:#123ccc}"]})}return c})()},2193:(B,w,s)=>{s.d(w,{i:()=>k});var C=s(2325),p=s(9144),r=s(553),t=s(6619),x=s(6306),e=s(2096),y=s(1073),E=s(3209),n=s(4946),b=s(6814),f=s(7624);const h=["formTemplate"],v=["searchTemplate"];function Z(_,M){}function Q(_,M){1&_&&(n.TgZ(0,"h1"),n._uU(1,"N\xe3o inicializado"),n.qZA())}function F(_,M){}const J=function(_){return{$implicit:_}};function S(_,M){if(1&_&&n.YNc(0,F,0,0,"ng-template",9),2&_){const m=n.oxw(3);n.Q6J("ngTemplateOutlet",m.searchTemplate)("ngTemplateOutletContext",n.VKq(2,J,m.searchConfig))}}function Y(_,M){if(1&_){const m=n.EpF();n.ynx(0),n.TgZ(1,"rca-modal",7),n.NdJ("onClose",function(){n.CHM(m);const A=n.oxw(2);return n.KtG(A.closeModalSearch())}),n.YNc(2,S,1,4,"ng-template",null,8,n.W1O),n.qZA(),n.BQk()}}function G(_,M){}function W(_,M){if(1&_&&n.YNc(0,G,0,0,"ng-template",9),2&_){n.oxw(2);const m=n.MAs(10),O=n.oxw();n.Q6J("ngTemplateOutlet",m)("ngTemplateOutletContext",n.VKq(2,J,O.formConfig))}}function j(_,M){if(1&_){const m=n.EpF();n.ynx(0),n.TgZ(1,"rca-modal",7),n.NdJ("onClose",function(){n.CHM(m);const A=n.oxw(2);return n.KtG(A.closeModalForm())}),n.YNc(2,W,1,4,"ng-template",null,8,n.W1O),n.qZA(),n.BQk()}}function V(_,M){}function z(_,M){}function ie(_,M){}function se(_,M){1&_&&(n.TgZ(0,"span",17),n._uU(1,"Novo"),n.qZA())}function $(_,M){1&_&&(n.TgZ(0,"span",18),n._uU(1,"Editar"),n.qZA())}function X(_,M){1&_&&(n.TgZ(0,"span",19),n._uU(1,"Excluir"),n.qZA())}function R(_,M){1&_&&(n.TgZ(0,"span",18),n._uU(1,"Recuperar"),n.qZA())}function q(_,M){1&_&&(n.TgZ(0,"span",20),n._uU(1,"Visualizar"),n.qZA())}function L(_,M){if(1&_&&(n.TgZ(0,"div",10)(1,"h1",11),n._uU(2),n.qZA(),n.TgZ(3,"div",12),n.YNc(4,se,2,0,"span",13),n.YNc(5,$,2,0,"span",14),n.YNc(6,X,2,0,"span",15),n.YNc(7,R,2,0,"span",14),n.YNc(8,q,2,0,"span",16),n.qZA()()),2&_){const m=n.oxw(2);n.xp6(2),n.Oqu(m.title),n.xp6(2),n.Q6J("ngIf","new"==m.action),n.xp6(1),n.Q6J("ngIf","edit"==m.action),n.xp6(1),n.Q6J("ngIf","delete"==m.action),n.xp6(1),n.Q6J("ngIf","undelete"==m.action),n.xp6(1),n.Q6J("ngIf","view"==m.action)}}function ee(_,M){1&_&&(n._UZ(0,"div"),n.Hsn(1))}function te(_,M){if(1&_){const m=n.EpF();n.TgZ(0,"button",26),n.NdJ("click",function(A){n.CHM(m);const U=n.oxw(3);return n.KtG(U.handleOnSubmit(A))}),n._uU(1),n.qZA()}if(2&_){const m=n.oxw(3);n.xp6(1),n.hij(" ","new"==m.action?"Cadastrar":"Alterar"," ")}}function ne(_,M){if(1&_){const m=n.EpF();n.TgZ(0,"button",27),n.NdJ("click",function(){n.CHM(m);const A=n.oxw(3);return n.KtG(A.handleOnDelete())}),n._uU(1," Excluir "),n.qZA()}}function oe(_,M){if(1&_){const m=n.EpF();n.TgZ(0,"button",28),n.NdJ("click",function(){n.CHM(m);const A=n.oxw(3);return n.KtG(A.handleOnUnDelete())}),n._uU(1," Recuperar "),n.qZA()}}function K(_,M){if(1&_){const m=n.EpF();n.TgZ(0,"div",21)(1,"button",22),n.NdJ("click",function(){n.CHM(m);const A=n.oxw(2);return n.KtG(A.navigateToBrowse())}),n._uU(2," Voltar "),n.qZA(),n.YNc(3,te,2,1,"button",23),n.YNc(4,ne,2,0,"button",24),n.YNc(5,oe,2,0,"button",25),n.qZA()}if(2&_){const m=n.oxw(2);n.xp6(3),n.Q6J("ngIf","new"==m.action||"edit"==m.action),n.xp6(1),n.Q6J("ngIf","delete"==m.action),n.xp6(1),n.Q6J("ngIf","undelete"==m.action)}}function I(_,M){if(1&_&&(n.YNc(0,Y,4,0,"ng-container",3),n.YNc(1,j,4,0,"ng-container",3),n.ynx(2),n.YNc(3,V,0,0,"ng-template",0),n.TgZ(4,"div"),n.YNc(5,z,0,0,"ng-template",0),n.YNc(6,ie,0,0,"ng-template",0),n.qZA(),n.BQk(),n.YNc(7,L,9,6,"ng-template",null,4,n.W1O),n.YNc(9,ee,2,0,"ng-template",null,5,n.W1O),n.YNc(11,K,6,3,"ng-template",null,6,n.W1O)),2&_){const m=n.MAs(8),O=n.MAs(10),A=n.MAs(12),U=n.oxw();n.Q6J("ngIf",U.searchConfig.visible),n.xp6(1),n.Q6J("ngIf",U.formConfig.visible),n.xp6(2),n.Q6J("ngTemplateOutlet",m),n.xp6(2),n.Q6J("ngTemplateOutlet",O),n.xp6(1),n.Q6J("ngTemplateOutlet",A)}}const H=["*"];let k=(()=>{class _ extends t.y{config;service;formGroup;formTemplate;searchTemplate;id="";data;action="new";formConfig={owner:this,visible:!1,action:"new"};searchConfig={owner:this,visible:!1,action:"default",multiple:!1};ngOnInit(){super.ngOnInit(),this.subscriptions.push(this.authService.state.subscribe(m=>{this.auth=m,this.initialLoad()}))}initialLoad(){if(this.data=void 0,this.config){const m=this.config.selected;this.id=m?.id||"",this.action=this.config.action}else this.route?.snapshot?.params.id&&(this.id=this.route?.snapshot?.params.id),this.route?.snapshot?.url[1]&&(this.action=this.route?.snapshot?.url[1]?.path);this.pageService.setDisabled(["view","delete"].includes(this.action)),this.handleLoadData()}showModalForm(m,O){this.formConfig={...this.formConfig,action:m,owner:this,visible:!0,selected:O}}closeModalForm(m){this.formConfig={...this.formConfig,action:"new",owner:this,visible:!1,selected:void 0}}showModalSearch(m){this.searchConfig={...this.searchConfig,action:m,owner:this,visible:!0,multiple:!1}}closeModalSearch(){this.searchConfig={...this.searchConfig,action:"default",owner:void 0,visible:!1,multiple:!1}}handleLoadData(){this.id?(this.pageService.setLoading(!0),this.service&&this.service.selectOne(this.id).subscribe(m=>{m?.id?setTimeout(()=>{this.formGroup.patchValue(m),this.pageService.setLoading(!1).setInitialized()},r.N.loadingTime):(this.alertService.toastInfo({message:"Registro n\xe3o localizado."}),this.navigateToBrowse())})):this.pageService.setInitialized()}handleOnSubmit(m){if(!y.Z.validateForm(this.formGroup))return this.alertService.toastDanger({title:"Aten\xe7\xe3o",message:"Verifique os campos obrigat\xf3rios."}),void m.preventDefault();this.id?this.service.update(this.id,this.formGroup.value).pipe((0,x.K)(O=>(console.error(O),(0,e.of)()))).subscribe(O=>{this.navigateToBrowse(O)}):this.service.insert(this.formGroup.value).subscribe(O=>{this.navigateToBrowse(O)})}handleOnDelete(){this.id&&this.service.delete(this.id).subscribe(m=>{this.navigateToBrowse(m)})}handleOnUnDelete(){this.id&&this.service.undelete(this.id).subscribe(m=>{this.navigateToBrowse(m)})}navigateToBrowse=m=>{this.formGroup.reset(),this.config?(this.config.owner instanceof p.j||this.config.owner instanceof C.P)&&this.config.owner.closeModalForm(m):this.router.navigate(["new"==this.action?"..":"../.."],{relativeTo:this.route})};static \u0275fac=function(){let m;return function(A){return(m||(m=n.n5z(_)))(A||_)}}();static \u0275cmp=n.Xpm({type:_,selectors:[["rca-page-form"]],contentQueries:function(O,A,U){if(1&O&&(n.Suo(U,h,5),n.Suo(U,v,5)),2&O){let c;n.iGM(c=n.CRH())&&(A.formTemplate=c.first),n.iGM(c=n.CRH())&&(A.searchTemplate=c.first)}},inputs:{config:"config",service:"service",formGroup:"formGroup"},features:[n._Bn([E.Z]),n.qOj],ngContentSelectors:H,decls:5,vars:1,consts:[[3,"ngTemplateOutlet"],["initializingTemplate",""],["initializedTemplate",""],[4,"ngIf"],["headerTemplate",""],["formTemplate",""],["buttonsTemplate",""],[3,"onClose"],["full",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"flex","align-center","pr-6"],[1,"mr-3"],[1,"mt-1"],["class","tag is-warning",4,"ngIf"],["class","tag is-success",4,"ngIf"],["class","tag is-danger",4,"ngIf"],["class","tag is-info",4,"ngIf"],[1,"tag","is-warning"],[1,"tag","is-success"],[1,"tag","is-danger"],[1,"tag","is-info"],[1,"flex","justify-space-between","mt-2",2,"flex","1"],[1,"button","is-warning","is-light","is-right",3,"click"],["class","button is-link is-left",3,"click",4,"ngIf"],["class","button is-danger is-left",3,"click",4,"ngIf"],["class","button is-success is-left",3,"click",4,"ngIf"],[1,"button","is-link","is-left",3,"click"],[1,"button","is-danger","is-left",3,"click"],[1,"button","is-success","is-left",3,"click"]],template:function(O,A){if(1&O&&(n.F$t(),n.YNc(0,Z,0,0,"ng-template",0),n.YNc(1,Q,2,0,"ng-template",null,1,n.W1O),n.YNc(3,I,13,5,"ng-template",null,2,n.W1O)),2&O){const U=n.MAs(2),c=n.MAs(4);n.Q6J("ngTemplateOutlet",A.page.initialized?c:U)}},dependencies:[b.O5,b.tP,f.z],encapsulation:2})}return _})()}}]);